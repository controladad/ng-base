<mat-menu #FilterMenu backdropClass="ui-backdrop-blur-sm">
  <div
    cdkTrapFocus
    [cdkTrapFocusAutoCapture]="true"
    role="presentation"
    class="flex flex-col pt-1 p-4"
    (click)="$event.stopPropagation()"
    (keydown)="$event.stopPropagation()"
    (keydown.enter)="submit()"
    (keydown.escape)="cancel()"
    >
    @if (form() && show()) {
      <span class="text-lg font-medium" i18n="@@base.feature.table.filters.filter">Filter {{ column.label }}</span>
      <feature-form-builder class="mt-4" #Form [options]="form()!" [focusOnInit]="true"></feature-form-builder>
      <feature-bottom-controls
        class="mt-4"
        submitText="Filter"
        i18n-submitText="Filter@@base.feature.table.filterMenu.submitButton"
        cancelText="Cancel"
        i18n-cancelText="Cancel@@base.feature.table.filterMenu.cancelButton"
        [form]="form()!.formGroup"
        (onSubmit)="submit()"
        (onCancel)="cancel()"
      ></feature-bottom-controls>
    }
  </div>
</mat-menu>
