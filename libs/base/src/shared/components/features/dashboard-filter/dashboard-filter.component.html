<div class="flex items-center justify-between flex-wrap gap-6">
  <div class="flex items-center gap-3">
    <span class="text-base font-medium">فیلتر بر اساس:</span>
    <mat-button-toggle-group class="text-xs" [formControl]="selectedFilter">
      <mat-button-toggle *ngFor="let item of filters" [value]="item.value">
        <mat-icon *ngIf="selectedFilter.value === item.value" class="w-5 h-5" [svgIcon]="'check'"></mat-icon>
        {{ item.label }}
      </mat-button-toggle>
      <mat-button-toggle #DateRangeMenuTrigger="matMenuTrigger" [matMenuTriggerFor]="DateRangeMenu" [value]="'custom'">
        <mat-icon *ngIf="selectedFilter.value === 'custom'" class="w-5 h-5" [svgIcon]="'check'"></mat-icon>
        <mat-icon class="w-5 h-5 me-2" [svgIcon]="'calendar'"></mat-icon>
        تقویم
      </mat-button-toggle>
    </mat-button-toggle-group>
  </div>
  <ui-field
    [control]="branchControl"
    controlType="select"
    label="شعبه"
    [items]="branchItems"
    [hideError]="true"
    [multiple]="true"
  ></ui-field>
</div>

<mat-menu #DateRangeMenu>
  <div
    class="flex flex-col py-2 px-6 gap-4 max-w-[30rem] relative"
    (click)="$event.stopPropagation()"
    (keydown.enter)="onSubmitRange()"
  >
    <div class="flex items-center">
      <span class="text-base font-medium">انتخاب بازه تاریخ</span>
      <!-- <ui-icon icon="calendar-alt" class="ms-auto"></ui-icon> -->
    </div>

    <div class="relative -mx-6 my-1">
      <div class="w-full h-px bg-outline bg-opacity-50 absolute"><!-- Divider --></div>
    </div>

    <div class="flex gap-3">
      <ui-field
        label="از تاریخ"
        [control]="lowDateControl"
        [hideError]="true"
        controlType="datetime"
        [dateFilter]="dateFilter"
      ></ui-field>
      <ui-field
        label="تا تاریخ"
        [control]="highDateControl"
        [hideError]="true"
        controlType="datetime"
        [dateFilter]="dateFilter"
      ></ui-field>
    </div>

    <feature-bottom-controls
      cancelText="لغو"
      submitText="فیلتر"
      (onCancel)="onCancelRange()"
      (onSubmit)="onSubmitRange()"
    ></feature-bottom-controls>
  </div>
</mat-menu>
