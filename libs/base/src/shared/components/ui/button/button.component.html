<div
  class="ui-button-inherit-parent"
  [matTooltip]="insufficientPermission() ? 'You have insufficient permission.' : ''"
  >
  <button
    #Button
    mat-flat-button
    class="ui-button-inherit-parent ui-button"
    [disabled]="(disabled ?? false) || loading() || insufficientPermission()"
    [ngStyle]="{ padding: padding }"
    (click)="onClickEvent($event)"
    [routerLink]="route"
    [class.fit-content]="fitContent"
    [class.content-align-start]="align === 'start'"
    [class.content-align-center]="align === 'center' || align === undefined"
    [class.content-align-end]="align === 'end'"
    >
    <div class="ui-button-content" [class.loading]="loading()">
      @if (iconPosition === 'prefix') {
        <ng-container [ngTemplateOutlet]="Icon"></ng-container>
      }
      <div class="ui-button-content-portal">
        <ng-content></ng-content>
      </div>
      @if (iconPosition === 'suffix') {
        <ng-container [ngTemplateOutlet]="Icon"></ng-container>
      }
      @if (loading()) {
        <div class="ui-button-loading-spinner">
          <mat-spinner color="primary" diameter="16" class="mx-2"></mat-spinner>
        </div>
      }
    </div>
  </button>
</div>

<ng-template #Icon>
  @if (!!icon) {
    <ui-icon
      class="transition-colors"
      [icon]="icon"
      [style]="'width:' + iconSize + ';height:' + iconSize"
    ></ui-icon>
  }
</ng-template>
