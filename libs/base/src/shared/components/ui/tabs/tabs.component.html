<mat-tab-group (selectedTabChange)="tabChange($event.index)" [dynamicHeight]="dynamicHeight()" mat-stretch-tabs="true" mat-align-tabs="center">
  @for (tab of tabs(); track tab.label(); let index = $index) {
    <mat-tab [label]="tab.label()">
      <ng-template mat-tab-label>
        @if (tab.icon()) {
          <mat-icon
            class="w-4 h-4 mx-2 {{ index === currentIndex() ? 'text-primary' : 'text-gray-700' }}"
            [svgIcon]="tab.icon()!"
          ></mat-icon>
        }
        {{ tab.label() }}
      </ng-template>
      <ng-container [ngTemplateOutlet]="tab.content"></ng-container>
    </mat-tab>
  }
</mat-tab-group>
